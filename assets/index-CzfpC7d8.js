import{H as k,E as xe,c as fe,t as kr,b as Br,f as Fr,A as nt,k as Qt,a as I,l as Y,m as Lr}from"./lazy-json-GAqC3xmD.js";import{dQ as F}from"./index-DZCF-iRb.js";const Ea=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Aa=e=>({httpHandler:e.httpHandler()}),$e="__smithy_context";function Oa(e){return e}const jr=e=>t=>async r=>{if(!k.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return t(r)},Ur={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Ta=e=>({applyToStack:t=>{t.add(jr(e),Ur)}}),Hr=()=>(e,t)=>async r=>{var n,s;try{const i=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:f,overrideOutputFilterSensitiveLog:d}=c,l=f??t.inputFilterSensitiveLog,p=d??t.outputFilterSensitiveLog,{$metadata:y,...g}=i.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:l(r.input),output:p(g),metadata:y}),i}catch(i){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:f}=c,d=f??t.inputFilterSensitiveLog;throw(s=u==null?void 0:u.error)==null||s.call(u,{clientName:o,commandName:a,input:d(r.input),error:i,metadata:i.$metadata}),i}},qr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ca=e=>({applyToStack:t=>{t.add(Hr(),qr)}});var it={};const st="X-Amzn-Trace-Id",zr="AWS_LAMBDA_FUNCTION_NAME",Wr="_X_AMZN_TRACE_ID",Gr=e=>t=>async r=>{const{request:n}=r;if(!k.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(st))return t(r);const s=it[zr],i=it[Wr],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[st]=i),t({...r,request:n})},Vr={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Ma=e=>({applyToStack:t=>{t.add(Gr(e),Vr)}});function Pa(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const Kr=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Xt=e=>Kr.test(e)||e.startsWith("[")&&e.endsWith("]"),Zr=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Qe=(e,t=!1)=>{if(!t)return Zr.test(e);const r=e.split(".");for(const n of r)if(!Qe(n))return!1;return!0},Ie={},te="endpoints";function x(e){return typeof e!="object"||e==null?e:"ref"in e?`$${x(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(x).join(", ")})`:JSON.stringify(e,null,2)}class T extends Error{constructor(t){super(t),this.name="EndpointError"}}const Qr=(e,t)=>e===t,Xr=e=>{const t=e.split("."),r=[];for(const n of t){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new T(`Path: '${e}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new T(`Invalid array index: '${i}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Yt=(e,t)=>Xr(t).reduce((r,n)=>{if(typeof r!="object")throw new T(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Yr=e=>e!=null,Jr=e=>!e,pe={[xe.HTTP]:80,[xe.HTTPS]:443},en=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:l,port:p,protocol:y="",path:g="",query:m={}}=e,w=new URL(`${y}//${l}${p?`:${p}`:""}${g}`);return w.search=Object.entries(m).map(([_,E])=>`${_}=${E}`).join("&"),w}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(xe).includes(u))return null;const c=Xt(s),f=r.includes(`${n}:${pe[u]}`)||typeof e=="string"&&e.includes(`${n}:${pe[u]}`),d=`${n}${f?`:${pe[u]}`:""}`;return{scheme:u,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:c}},tn=(e,t)=>e===t,rn=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),nn=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),sn={booleanEquals:Qr,getAttr:Yt,isSet:Yr,isValidHostLabel:Qe,not:Jr,parseURL:en,stringEquals:tn,substring:rn,uriEncode:nn},Jt=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let s=0;for(;s<e.length;){const i=e.indexOf("{",s);if(i===-1){r.push(e.slice(s));break}r.push(e.slice(s,i));const o=e.indexOf("}",i);if(o===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(i+1,o)),s=o+2);const a=e.substring(i+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(Yt(n[u],c))}else r.push(n[a]);s=o+1}return r.join("")},on=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],de=(e,t,r)=>{if(typeof e=="string")return Jt(e,r);if(e.fn)return er(e,r);if(e.ref)return on(e,r);throw new T(`'${t}': ${String(e)} is not a string, function or reference.`)},er=({fn:e,argv:t},r)=>{const n=t.map(i=>["boolean","number"].includes(typeof i)?i:de(i,"arg",r)),s=e.split(".");return s[0]in Ie&&s[1]!=null?Ie[s[0]][s[1]](...n):sn[e](...n)},an=({assign:e,...t},r)=>{var s,i;if(e&&e in r.referenceRecord)throw new T(`'${e}' is already defined in Reference Record.`);const n=er(t,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,`${te} evaluateCondition: ${x(t)} = ${x(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},Xe=(e=[],t)=>{var n,s;const r={};for(const i of e){const{result:o,toAssign:a}=an(i,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=t.logger)==null?void 0:n.debug)==null||s.call(n,`${te} assign: ${a.name} := ${x(a.value)}`))}return{result:!0,referenceRecord:r}},cn=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=de(i,"Header value entry",t);if(typeof o!="string")throw new T(`Header '${n}' value '${o}' is not a string`);return o})}),{}),tr=(e,t)=>{if(Array.isArray(e))return e.map(r=>tr(r,t));switch(typeof e){case"string":return Jt(e,t);case"object":if(e===null)throw new T(`Unexpected endpoint property: ${e}`);return rr(e,t);case"boolean":return e;default:throw new T(`Unexpected endpoint property type: ${typeof e}`)}},rr=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:tr(s,t)}),{}),un=(e,t)=>{const r=de(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new T(`Endpoint URL must be a string, got ${typeof r}`)},fn=(e,t)=>{var f,d;const{conditions:r,endpoint:n}=e,{result:s,referenceRecord:i}=Xe(r,t);if(!s)return;const o={...t,referenceRecord:{...t.referenceRecord,...i}},{url:a,properties:u,headers:c}=n;return(d=(f=t.logger)==null?void 0:f.debug)==null||d.call(f,`${te} Resolving endpoint from template: ${x(n)}`),{...c!=null&&{headers:cn(c,o)},...u!=null&&{properties:rr(u,o)},url:un(a,o)}},ln=(e,t)=>{const{conditions:r,error:n}=e,{result:s,referenceRecord:i}=Xe(r,t);if(s)throw new T(de(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},dn=(e,t)=>{const{conditions:r,rules:n}=e,{result:s,referenceRecord:i}=Xe(r,t);if(s)return nr(n,{...t,referenceRecord:{...t.referenceRecord,...i}})},nr=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=fn(r,t);if(n)return n}else if(r.type==="error")ln(r,t);else if(r.type==="tree"){const n=dn(r,t);if(n)return n}else throw new T(`Unknown endpoint rule: ${r}`);throw new T("Rules evaluation failed")},xa=(e,t)=>{var c,f,d,l,p;const{endpointParams:r,logger:n}=t,{parameters:s,rules:i}=e;(f=(c=t.logger)==null?void 0:c.debug)==null||f.call(c,`${te} Initial EndpointParams: ${x(r)}`);const o=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,g])=>[y,g.default]);if(o.length>0)for(const[y,g]of o)r[y]=r[y]??g;const a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(r[y]==null)throw new T(`Missing required parameter: '${y}'`);const u=nr(i,{endpointParams:r,logger:n,referenceRecord:{}});if((d=t.endpointParams)!=null&&d.Endpoint)try{const y=new URL(t.endpointParams.Endpoint),{protocol:g,port:m}=y;u.url.protocol=g,u.url.port=m}catch{}return(p=(l=t.logger)==null?void 0:l.debug)==null||p.call(l,`${te} Resolved endpoint: ${x(u)}`),u},ir=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!ir(r))return!1;return!0}return!(!Qe(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Xt(e))},hn=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,s,i,o,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},pn=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],yn="1.1",gn={partitions:pn,version:yn};let mn=gn;const wn=e=>{const{partitions:t}=mn;for(const n of t){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===e)return{...i,...a}}for(const n of t){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(e))return{...i}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},bn={isVirtualHostableS3Bucket:ir,parseArn:hn,partition:wn};Ie.aws=bn;const ot="user-agent",ye="x-amz-user-agent",at=" ",ge="/",_n=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,vn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ct="-",Sn=e=>(t,r)=>async n=>{var d,l;const{request:s}=n;if(!k.isInstance(s))return t(n);const{headers:i}=s,o=((d=r==null?void 0:r.userAgent)==null?void 0:d.map(me))||[],a=(await e.defaultUserAgentProvider()).map(me),u=((l=e==null?void 0:e.customUserAgent)==null?void 0:l.map(me))||[],c=[].concat([...a,...o,...u]).join(at),f=[...a.filter(p=>p.startsWith("aws-sdk-")),...u].join(at);return e.runtime!=="browser"?(f&&(i[ye]=i[ye]?`${i[ot]} ${f}`:f),i[ot]=c):i[ye]=c,t({...n,request:s})},me=e=>{var o;const t=e[0].split(ge).map(a=>a.replace(_n,ct)).join(ge),r=(o=e[1])==null?void 0:o.replace(vn,ct),n=t.indexOf(ge),s=t.substring(0,n);let i=t.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},Rn={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},$a=e=>({applyToStack:t=>{t.add(Sn(e),Rn)}});var ut;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(ut||(ut={}));const Ia=!1,Na=!1,Ye=e=>e[$e]||(e[$e]={}),N=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},sr=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),ft=e=>sr(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Da=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return ft(t);const n=await t();return ft(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return sr(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};function En(e){const t=new Map;for(const r of e)t.set(r.schemeId,r);return t}const An=(e,t)=>(r,n)=>async s=>{var c;const i=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),o=En(e.httpAuthSchemes),a=Ye(n),u=[];for(const f of i){const d=o.get(f.schemeId);if(!d){u.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}const l=d.identityProvider(await t.identityProviderConfigProvider(e));if(!l){u.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:p={},signingProperties:y={}}=((c=f.propertiesExtractor)==null?void 0:c.call(f,e,n))||{};f.identityProperties=Object.assign(f.identityProperties||{},p),f.signingProperties=Object.assign(f.signingProperties||{},y),a.selectedHttpAuthScheme={httpAuthOption:f,identity:await l(f.identityProperties),signer:d.signer};break}if(!a.selectedHttpAuthScheme)throw new Error(u.join(`
`));return r(s)},On=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),xn(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Pn(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Tn=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Cn=/(\d+\.){3}\d+/,Mn=/\.\./,Pn=e=>Tn.test(e)&&!Cn.test(e)&&!Mn.test(e),xn=e=>{const[t,r,n,,,s]=e.split(":"),i=t==="arn"&&e.split(":").length>=6,o=!!(i&&r&&n&&s);if(i&&!o)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return o},$n=(e,t,r)=>{const n=async()=>{const s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{const s=typeof r.credentials=="function"?await r.credentials():r.credentials;return(s==null?void 0:s.credentialScope)??(s==null?void 0:s.CredentialScope)}:e==="endpoint"||t==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:u}=s;return`${i}//${o}${a?":"+a:""}${u}`}}return s}:n},In=async e=>{};function Nn(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}const Ne=e=>{if(typeof e=="string")return Ne(new URL(e));const{hostname:t,pathname:r,port:n,protocol:s,search:i}=e;let o;return i&&(o=Nn(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},or=e=>typeof e=="object"?"url"in e?Ne(e.url):e:Ne(e),Dn=async(e,t,r,n)=>{if(!r.endpoint){const o=await In(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(or(o)))}const s=await kn(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},kn=async(e,t,r)=>{var i;const n={},s=((i=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:i.call(t))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await $n(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await On(n),n},Bn=({config:e,instructions:t})=>(r,n)=>async s=>{var a,u,c;const i=await Dn(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const f=Ye(n),d=(c=f==null?void 0:f.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...s})},Fn=(e,t)=>r=>async n=>{const{response:s}=await r(n);try{const i=await t(s,e);return{response:s,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:s}),!("$metadata"in i)){const o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+o,typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText)}throw i}},Ln=(e,t)=>(r,n)=>async s=>{var a;const i=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await t(s.input,{...e,endpoint:i});return r({...s,request:o})},jn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Je={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ka(e,t,r){return{applyToStack:n=>{n.add(Fn(e,r),jn),n.add(Ln(e,t),Je)}}}const ar={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Je.name},Ba=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Bn({config:e,instructions:t}),ar)}}),Fa=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>or(await N(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:N(e.useDualstackEndpoint??!1),useFipsEndpoint:N(e.useFipsEndpoint??!1)}},Un={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:ar.name},La=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(An(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Un)}});Je.name;const Hn=e=>t=>{throw t},qn=(e,t)=>{},zn=e=>(t,r)=>async n=>{if(!k.isInstance(n.request))return t(n);const i=Ye(r).selectedHttpAuthScheme;if(!i)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:o={}},identity:a,signer:u}=i,c=await t({...n,request:await u.sign(n.request,a,o)}).catch((u.errorHandler||Hn)(o));return(u.successHandler||qn)(c.response,o),c};var B;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(B||(B={}));const De=3,ja=B.STANDARD,Wn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Gn=["TimeoutError","RequestTimeout","RequestTimeoutException"],Vn=[500,502,503,504],Kn=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Zn=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},cr=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Wn.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ur=e=>{var t;return Zn(e)||Gn.includes(e.name)||Kn.includes((e==null?void 0:e.code)||"")||Vn.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},Qn=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ur(e)}return!1};class Xn{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),cr(t)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const ke=100,fr=20*1e3,Yn=500,lt=500,Jn=5,ei=10,ti=1,ri="amz-sdk-invocation-id",ni="amz-sdk-request",ii=()=>{let e=ke;return{computeNextBackoffDelay:n=>Math.floor(Math.min(fr,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},dt=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(fr,e),getRetryCost:()=>r});class lr{constructor(t){this.maxAttempts=t,this.mode=B.STANDARD,this.capacity=lt,this.retryBackoffStrategy=ii(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return dt({retryDelay:ke,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Yn:ke);const i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,dt({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(lt,this.capacity+(t.getRetryCost()??ti))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${De}`),De}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?ei:Jn}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class si{constructor(t,r){this.maxAttemptsProvider=t,this.mode=B.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Xn,this.standardRetryStrategy=new lr(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let oe;const oi=new Uint8Array(16);function ai(){if(!oe&&(oe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oe(oi)}const S=[];for(let e=0;e<256;++e)S.push((e+256).toString(16).slice(1));function ci(e,t=0){return S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]}const ui=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ht={randomUUID:ui};function fi(e,t,r){if(ht.randomUUID&&!t&&!e)return ht.randomUUID();e=e||{};const n=e.random||(e.rng||ai)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ci(n)}const li=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Ua=e=>{const{retryStrategy:t}=e,r=N(e.maxAttempts??De);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await N(e.retryMode)()===B.ADAPTIVE?new si(r):new lr(r))}};class di{trace(){}debug(){}info(){}warn(){}error(){}}const $=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},M=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,le=()=>{let e=[],t=[],r=!1;const n=new Set,s=d=>d.sort((l,p)=>pt[p.step]-pt[l.step]||yt[p.priority||"normal"]-yt[l.priority||"normal"]),i=d=>{let l=!1;const p=y=>{const g=$(y.name,y.aliases);if(g.includes(d)){l=!0;for(const m of g)n.delete(m);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},o=d=>{let l=!1;const p=y=>{if(y.middleware===d){l=!0;for(const g of $(y.name,y.aliases))n.delete(g);return!1}return!0};return e=e.filter(p),t=t.filter(p),l},a=d=>{var l;return e.forEach(p=>{d.add(p.middleware,{...p})}),t.forEach(p=>{d.addRelativeTo(p.middleware,{...p})}),(l=d.identifyOnResolve)==null||l.call(d,f.identifyOnResolve()),d},u=d=>{const l=[];return d.before.forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...u(p))}),l.push(d),d.after.reverse().forEach(p=>{p.before.length===0&&p.after.length===0?l.push(p):l.push(...u(p))}),l},c=(d=!1)=>{const l=[],p=[],y={};return e.forEach(m=>{const w={...m,before:[],after:[]};for(const _ of $(w.name,w.aliases))y[_]=w;l.push(w)}),t.forEach(m=>{const w={...m,before:[],after:[]};for(const _ of $(w.name,w.aliases))y[_]=w;p.push(w)}),p.forEach(m=>{if(m.toMiddleware){const w=y[m.toMiddleware];if(w===void 0){if(d)return;throw new Error(`${m.toMiddleware} is not found when adding ${M(m.name,m.aliases)} middleware ${m.relation} ${m.toMiddleware}`)}m.relation==="after"&&w.after.push(m),m.relation==="before"&&w.before.push(m)}}),s(l).map(u).reduce((m,w)=>(m.push(...w),m),[])},f={add:(d,l={})=>{const{name:p,override:y,aliases:g}=l,m={step:"initialize",priority:"normal",middleware:d,...l},w=$(p,g);if(w.length>0){if(w.some(_=>n.has(_))){if(!y)throw new Error(`Duplicate middleware name '${M(p,g)}'`);for(const _ of w){const E=e.findIndex(L=>{var j;return L.name===_||((j=L.aliases)==null?void 0:j.some(he=>he===_))});if(E===-1)continue;const A=e[E];if(A.step!==m.step||m.priority!==A.priority)throw new Error(`"${M(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${M(p,g)}" middleware with ${m.priority} priority in ${m.step} step.`);e.splice(E,1)}}for(const _ of w)n.add(_)}e.push(m)},addRelativeTo:(d,l)=>{const{name:p,override:y,aliases:g}=l,m={middleware:d,...l},w=$(p,g);if(w.length>0){if(w.some(_=>n.has(_))){if(!y)throw new Error(`Duplicate middleware name '${M(p,g)}'`);for(const _ of w){const E=t.findIndex(L=>{var j;return L.name===_||((j=L.aliases)==null?void 0:j.some(he=>he===_))});if(E===-1)continue;const A=t[E];if(A.toMiddleware!==m.toMiddleware||A.relation!==m.relation)throw new Error(`"${M(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${M(p,g)}" middleware ${m.relation} "${m.toMiddleware}" middleware.`);t.splice(E,1)}}for(const _ of w)n.add(_)}t.push(m)},clone:()=>a(le()),use:d=>{d.applyToStack(f)},remove:d=>typeof d=="string"?i(d):o(d),removeByTag:d=>{let l=!1;const p=y=>{const{tags:g,name:m,aliases:w}=y;if(g&&g.includes(d)){const _=$(m,w);for(const E of _)n.delete(E);return l=!0,!1}return!0};return e=e.filter(p),t=t.filter(p),l},concat:d=>{var p;const l=a(le());return l.use(d),l.identifyOnResolve(r||l.identifyOnResolve()||(((p=d.identifyOnResolve)==null?void 0:p.call(d))??!1)),l},applyToStack:a,identify:()=>c(!0).map(d=>{const l=d.step??d.relation+" "+d.toMiddleware;return M(d.name,d.aliases)+" - "+l}),identifyOnResolve(d){return typeof d=="boolean"&&(r=d),r},resolve:(d,l)=>{for(const p of c().map(y=>y.middleware).reverse())d=p(d,l);return r&&console.log(f.identify()),d}};return f},pt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},yt={high:3,normal:2,low:1};class Ha{constructor(t){this.middlewareStack=le(),this.config=t}send(t,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const J=e=>typeof e=="string"?fe(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);function hi(e,t="utf-8"){return t==="base64"?kr(e):Br(e)}function pi(e,t){return t==="base64"?D.mutate(Fr(e)):D.mutate(fe(e))}class D extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return pi(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,D.prototype),t}transformToString(t="utf-8"){return hi(this,t)}}const yi=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return D.mutate(e);if(!e)return D.mutate(new Uint8Array);const r=t.streamCollector(e);return D.mutate(await r)};class gi{constructor(){this.middlewareStack=le()}static classBuilder(){return new mi}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:f,CommandCtor:d}){for(const m of s.bind(this)(d,t,r,n))this.middlewareStack.use(m);const l=t.concat(this.middlewareStack),{logger:p}=r,y={logger:p,clientName:i,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[$e]:{...c},...f},{requestHandler:g}=r;return l.resolve(m=>g.handle(m.request,n||{}),y)}}class mi{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let r;return r=class extends gi{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this)}resolveMiddleware(n,s,i){return this.resolveMiddlewareWithContext(n,s,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}class dr extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,dr.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const wi=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},bi=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const s=_i(e),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw wi(o,t)},qa=e=>({output:t,parsedBody:r,errorCode:n})=>{bi({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},_i=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),za=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},vi=e=>{const t=[];for(const r in nt){const n=nt[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Si=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Ri=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},Ei=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Wa=e=>({...vi(e),...Ri(e)}),Ga=e=>({...Si(e),...Ei(e)}),Ai=e=>(e==null?void 0:e.body)instanceof ReadableStream,Oi=e=>(t,r)=>async n=>{var o;let s=await e.retryStrategy();const i=await e.maxAttempts();if(Ti(s)){s=s;let a=await s.acquireInitialRetryToken(r.partition_id),u=new Error,c=0,f=0;const{request:d}=n,l=k.isInstance(d);for(l&&(d.headers[ri]=fi());;)try{l&&(d.headers[ni]=`attempt=${c+1}; max=${i}`);const{response:p,output:y}=await t(n);return s.recordSuccess(a),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=f,{response:p,output:y}}catch(p){const y=Ci(p);if(u=li(p),l&&Ai(d))throw(o=r.logger instanceof di?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),u;try{a=await s.refreshRetryTokenForRetry(a,y)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=f,u}c=a.getRetryCount();const g=a.getRetryDelay();f+=g,await new Promise(m=>setTimeout(m,g))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},Ti=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Ci=e=>{const t={error:e,errorType:Mi(e)},r=Pi(e.$response);return r&&(t.retryAfterHint=r),t},Mi=e=>cr(e)?"THROTTLING":ur(e)?"TRANSIENT":Qn(e)?"SERVER_ERROR":"CLIENT_ERROR",hr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Va=e=>({applyToStack:t=>{t.add(Oi(e),hr)}}),Pi=e=>{if(!Qt.isInstance(e))return;const t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},xi={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:hr.name},Ka=e=>({applyToStack:t=>{t.addRelativeTo(zn(),xi)}});class Za{constructor(t){this.authSchemes=new Map;for(const[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}const $i=e=>t=>pr(t)&&t.expiration.getTime()-Date.now()<e,Ii=3e5,Ni=$i(Ii),pr=e=>e.expiration!==void 0,Di=(e,t,r)=>{if(e===void 0)return;const n=typeof e!="function"?async()=>Promise.resolve(e):e;let s,i,o,a=!1;const u=async c=>{i||(i=n(c));try{s=await i,o=!0,a=!1}finally{i=void 0}return s};return t===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(s=await u(c)),s):async c=>((!o||c!=null&&c.forceRefresh)&&(s=await u(c)),a?s:r(s)?(t(s)&&await u(c),s):(a=!0,s))},ae=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},gt="content-length";function ki(e){return t=>async r=>{const n=r.request;if(k.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(gt)===-1)try{const o=e(s);n.headers={...n.headers,[gt]:String(o)}}catch{}}return t({...r,request:n})}}const Bi={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Qa=e=>({applyToStack:t=>{t.add(ki(e.bodyLengthChecker),Bi)}}),mt=e=>{var t,r;return Qt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},yr=e=>new Date(Date.now()+e),Fi=(e,t)=>Math.abs(yr(t).getTime()-e)>=3e5,wt=(e,t)=>{const r=Date.parse(e);return Fi(r,t)?r-Date.now():t},ee=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},Li=async e=>{var u,c,f;const t=ee("context",e.context),r=ee("config",e.config),n=(f=(c=(u=t.endpointV2)==null?void 0:u.properties)==null?void 0:c.authSchemes)==null?void 0:f[0],i=await ee("signer",r.signer)(n),o=e==null?void 0:e.signingRegion,a=e==null?void 0:e.signingName;return{config:r,signer:i,signingRegion:o,signingName:a}};class Xa{async sign(t,r,n){if(!k.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:s,signer:i,signingRegion:o,signingName:a}=await Li(n);return await i.sign(t,{signingDate:yr(s.systemClockOffset),signingRegion:o,signingService:a})}errorHandler(t){return r=>{const n=r.ServerTime??mt(r.$response);if(n){const s=ee("config",t.config),i=s.systemClockOffset;s.systemClockOffset=wt(n,s.systemClockOffset),s.systemClockOffset!==i&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){const n=mt(t);if(n){const s=ee("config",r.config);s.systemClockOffset=wt(n,s.systemClockOffset)}}}const ji="X-Amz-Algorithm",Ui="X-Amz-Credential",gr="X-Amz-Date",Hi="X-Amz-SignedHeaders",qi="X-Amz-Expires",mr="X-Amz-Signature",wr="X-Amz-Security-Token",br="authorization",_r=gr.toLowerCase(),zi="date",Wi=[br,_r,zi],Gi=mr.toLowerCase(),Be="x-amz-content-sha256",Vi=wr.toLowerCase(),Ki={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Zi=/^proxy-/,Qi=/^sec-/,we="AWS4-HMAC-SHA256",Xi="AWS4-HMAC-SHA256-PAYLOAD",Yi="UNSIGNED-PAYLOAD",Ji=50,vr="aws4_request",es=60*60*24*7,ce={},be=[],_e=(e,t,r)=>`${e}/${t}/${r}/${vr}`,ts=async(e,t,r,n,s)=>{const i=await bt(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${s}:${I(i)}:${t.sessionToken}`;if(o in ce)return ce[o];for(be.push(o);be.length>Ji;)delete ce[be.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,s,vr])a=await bt(e,a,u);return ce[o]=a},bt=(e,t,r)=>{const n=new e(t);return n.update(J(r)),n.digest()},_t=({headers:e},t,r)=>{const n={};for(const s of Object.keys(e).sort()){if(e[s]==null)continue;const i=s.toLowerCase();(i in Ki||t!=null&&t.has(i)||Zi.test(i)||Qi.test(i))&&(!r||r&&!r.has(i))||(n[i]=e[s].trim().replace(/\s+/g," "))}return n},rs=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===Gi)continue;t.push(n);const s=e[n];typeof s=="string"?r[n]=`${Y(n)}=${Y(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,o)=>i.concat([`${Y(n)}=${Y(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},ns=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",ve=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===Be)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||ns(t)){const n=new r;return n.update(J(t)),I(await n.digest())}return Yi};class is{format(t){const r=[];for(const i of Object.keys(t)){const o=fe(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(t.value,3),o;case"string":const a=fe(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const f=new Uint8Array(9);return f[0]=8,f.set(et.fromNumber(t.value.valueOf()).bytes,1),f;case"uuid":if(!ss.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(Lr(t.value.replace(/\-/g,"")),1),d}}}var vt;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(vt||(vt={}));const ss=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class et{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&St(r),new et(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&St(t),parseInt(I(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function St(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}const os=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},Sr=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?as(t):void 0}),as=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),cs=(e,t={})=>{var s;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():Sr(e);for(const i of Object.keys(r)){const o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(o))&&(n[i]=r[i],delete r[i])}return{...e,headers:r,query:n}},Rt=e=>{e=typeof e.clone=="function"?e.clone():Sr(e);for(const t of Object.keys(e.headers))Wi.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},us=e=>fs(e).toISOString().replace(/\.\d{3}Z$/,"Z"),fs=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Et{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.headerFormatter=new is,this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=N(n),this.credentialProvider=N(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);const d=u??await this.regionProvider(),{longDate:l,shortDate:p}=ue(n);if(s>es)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=_e(p,d,c??this.service),g=cs(Rt(t),{unhoistableHeaders:o});f.sessionToken&&(g.query[wr]=f.sessionToken),g.query[ji]=we,g.query[Ui]=`${f.accessKeyId}/${y}`,g.query[gr]=l,g.query[qi]=s.toString(10);const m=_t(g,i,a);return g.query[Hi]=At(m),g.query[mr]=await this.getSignature(l,y,this.getSigningKey(f,d,p,c),this.createCanonicalRequest(g,m,await ve(t,this.sha256))),g}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:u,longDate:c}=ue(n),f=_e(u,a,o??this.service),d=await ve({headers:{},body:r},this.sha256),l=new this.sha256;l.update(t);const p=I(await l.digest()),y=[Xi,c,f,s,p,d].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=ue(r),u=new this.sha256(await this.getSigningKey(i,o,a,s));return u.update(J(t)),I(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=i??await this.regionProvider(),c=Rt(t),{longDate:f,shortDate:d}=ue(r),l=_e(d,u,o??this.service);c.headers[_r]=f,a.sessionToken&&(c.headers[Vi]=a.sessionToken);const p=await ve(c,this.sha256);!os(Be,c.headers)&&this.applyChecksum&&(c.headers[Be]=p);const y=_t(c,s,n),g=await this.getSignature(f,l,this.getSigningKey(a,u,d,o),this.createCanonicalRequest(c,y,p));return c.headers[br]=`${we} Credential=${a.accessKeyId}/${l}, SignedHeaders=${At(y)}, Signature=${g}`,c}createCanonicalRequest(t,r,n){const s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${rs(t)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){const s=new this.sha256;s.update(J(n));const i=await s.digest();return`${we}
${t}
${r}
${I(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const i of t.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Y(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){const i=await this.createStringToSign(t,r,s),o=new this.sha256(await n);return o.update(J(i)),I(await o.digest())}getSigningKey(t,r,n,s){return ts(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const ue=e=>{const t=us(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},At=e=>Object.keys(e).sort().join(";"),Ya=e=>{let t;e.credentials&&(t=Di(e.credentials,Ni,pr)),t||(e.credentialDefaultProvider?t=ae(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):t=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e;let i;return e.signer?i=ae(e.signer):e.regionInfoProvider?i=()=>ae(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const f={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},d=e.signerConstructor||Et;return new d(f)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ae(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},f=e.signerConstructor||Et;return new f(c)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:i}},Ja=(e,t)=>yi(e,t).then(r=>t.utf8Encoder(r));var ls={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fe=function(e,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Fe(e,t)};function ds(e,t){Fe(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Le=function(){return Le=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Le.apply(this,arguments)};function hs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function ps(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function ys(e,t){return function(r,n){t(r,n,e)}}function gs(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ms(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function u(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function ws(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function bs(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function _s(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function je(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function vs(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Rr(arguments[t]));return e}function Ss(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function re(e){return this instanceof re?(this.v=e,this):new re(e)}function Rs(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(l){n[l]&&(s[l]=function(p){return new Promise(function(y,g){i.push([l,p,y,g])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){d(i[0][3],y)}}function u(l){l.value instanceof re?Promise.resolve(l.value.v).then(c,f):d(i[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function d(l,p){l(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Es(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:re(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function As(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof je=="function"?je(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,u){o=e[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}}function Os(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Ts(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Cs(e){return e&&e.__esModule?e:{default:e}}function Ms(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Ps(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const xs=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Le},__asyncDelegator:Es,__asyncGenerator:Rs,__asyncValues:As,__await:re,__awaiter:ms,__classPrivateFieldGet:Ms,__classPrivateFieldSet:Ps,__createBinding:bs,__decorate:ps,__exportStar:_s,__extends:ds,__generator:ws,__importDefault:Cs,__importStar:Ts,__makeTemplateObject:Os,__metadata:gs,__param:ys,__read:Rr,__rest:hs,__spread:vs,__spreadArrays:Ss,__values:je},Symbol.toStringTag,{value:"Module"})),$s=F(xs);var U={},H={},q={},Ot;function Is(){if(Ot)return q;Ot=1,Object.defineProperty(q,"__esModule",{value:!0}),q.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return q.isEmptyData=e,q}var Se={},Tt;function Er(){return Tt||(Tt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Se)),Se}const Ns=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const i=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)},Ds=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){const i=e[++r];t+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){const o="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function ks(e){return new TextEncoder().encode(e)}function Bs(e){return new TextDecoder("utf-8").decode(e)}const Fs=e=>typeof TextEncoder=="function"?ks(e):Ns(e),Ls=e=>typeof TextDecoder=="function"?Bs(e):Ds(e),js=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Fs,toUtf8:Ls},Symbol.toStringTag,{value:"Module"})),Ar=F(js),Us={};function Hs(){return typeof window<"u"?window:typeof self<"u"?self:Us}const qs=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Hs},Symbol.toStringTag,{value:"Module"})),tt=F(qs);var Ct;function Or(){if(Ct)return H;Ct=1,Object.defineProperty(H,"__esModule",{value:!0}),H.Sha256=void 0;var e=Is(),t=Er(),r=Ar,n=tt,s=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(f){return f.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},f.process(o(u)),f}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,f){u.onerror=function(){f(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),f(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=i(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();H.Sha256=s;function i(a){return new Promise(function(u,c){var f=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);f.oncomplete=function(){f.result&&u(f.result),c(new Error("ImportKey completed without importing key."))},f.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return H}var z={},Re={},W={},Mt;function zs(){if(Mt)return W;Mt=1,Object.defineProperty(W,"__esModule",{value:!0}),W.convertToBuffer=void 0;var e=Ar,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return W.convertToBuffer=r,W}var G={},Pt;function Ws(){if(Pt)return G;Pt=1,Object.defineProperty(G,"__esModule",{value:!0}),G.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return G.isEmptyData=e,G}var V={},xt;function Gs(){if(xt)return V;xt=1,Object.defineProperty(V,"__esModule",{value:!0}),V.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return V.numToUint8=e,V}var K={},$t;function Vs(){if($t)return K;$t=1,Object.defineProperty(K,"__esModule",{value:!0}),K.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return K.uint32ArrayFrom=e,K}var It;function rt(){return It||(It=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=zs();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=Ws();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Gs();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var s=Vs();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})}(Re)),Re}var Nt;function Tr(){if(Nt)return z;Nt=1,Object.defineProperty(z,"__esModule",{value:!0}),z.Sha256=void 0;var e=rt(),t=Er(),r=tt,n=function(){function s(i){this.toHash=new Uint8Array(0),this.secret=i,this.reset()}return s.prototype.update=function(i){if(!(0,e.isEmptyData)(i)){var o=(0,e.convertToBuffer)(i),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},s.prototype.digest=function(){var i=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,i.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,i.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},s.prototype.reset=function(){var i=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(i.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},s}();return z.Sha256=n,z}var Ee={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ue=function(e,t){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Ue(e,t)};function Ks(e,t){Ue(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var He=function(){return He=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},He.apply(this,arguments)};function Zs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Qs(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Xs(e,t){return function(r,n){t(r,n,e)}}function Ys(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Js(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function u(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function eo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function to(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function ro(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function qe(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function no(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Cr(arguments[t]));return e}function io(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ne(e){return this instanceof ne?(this.v=e,this):new ne(e)}function so(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(l){n[l]&&(s[l]=function(p){return new Promise(function(y,g){i.push([l,p,y,g])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){d(i[0][3],y)}}function u(l){l.value instanceof ne?Promise.resolve(l.value.v).then(c,f):d(i[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function d(l,p){l(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function oo(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:ne(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function ao(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof qe=="function"?qe(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,u){o=e[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}}function co(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function uo(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function fo(e){return e&&e.__esModule?e:{default:e}}function lo(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function ho(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const po=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return He},__asyncDelegator:oo,__asyncGenerator:so,__asyncValues:ao,__await:ne,__awaiter:Js,__classPrivateFieldGet:lo,__classPrivateFieldSet:ho,__createBinding:to,__decorate:Qs,__exportStar:ro,__extends:Ks,__generator:eo,__importDefault:fo,__importStar:uo,__makeTemplateObject:co,__metadata:Ys,__param:Xs,__read:Cr,__rest:Zs,__spread:no,__spreadArrays:io,__values:qe},Symbol.toStringTag,{value:"Module"})),Mr=F(po);var Z={},O={},Dt;function Pr(){return Dt||(Dt=1,Object.defineProperty(O,"__esModule",{value:!0}),O.MAX_HASHABLE_LENGTH=O.INIT=O.KEY=O.DIGEST_LENGTH=O.BLOCK_SIZE=void 0,O.BLOCK_SIZE=64,O.DIGEST_LENGTH=32,O.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],O.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),O}var Q={},kt;function yo(){if(kt)return Q;kt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.RawSha256=void 0;var e=Pr(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var s=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[s++],i--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,s=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(s.setUint8(this.bufferLength++,128),i%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)s.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)s.setUint8(o,0);s.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),s.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,s=n.buffer,i=n.state,o=i[0],a=i[1],u=i[2],c=i[3],f=i[4],d=i[5],l=i[6],p=i[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(s[y*4]&255)<<24|(s[y*4+1]&255)<<16|(s[y*4+2]&255)<<8|s[y*4+3]&255;else{var g=this.temp[y-2],m=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=this.temp[y-15];var w=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[y]=(m+this.temp[y-7]|0)+(w+this.temp[y-16]|0)}var _=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&d^~f&l)|0)+(p+(e.KEY[y]+this.temp[y]|0)|0)|0,E=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;p=l,l=d,d=f,f=c+_|0,c=u,u=a,a=o,o=_+E|0}i[0]+=o,i[1]+=a,i[2]+=u,i[3]+=c,i[4]+=f,i[5]+=d,i[6]+=l,i[7]+=p},r}();return Q.RawSha256=t,Q}var Bt;function go(){if(Bt)return Z;Bt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.Sha256=void 0;var e=Mr,t=Pr(),r=yo(),n=rt(),s=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=i(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();Z.Sha256=s;function i(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return Z}var Ft;function mo(){return Ft||(Ft=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Mr;t.__exportStar(go(),e)}(Ee)),Ee}var Ae={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ze=function(e,t){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},ze(e,t)};function wo(e,t){ze(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var We=function(){return We=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},We.apply(this,arguments)};function bo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _o(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function vo(e,t){return function(r,n){t(r,n,e)}}function So(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ro(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function u(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Eo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ao(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Oo(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ge(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function To(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xr(arguments[t]));return e}function Co(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ie(e){return this instanceof ie?(this.v=e,this):new ie(e)}function Mo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(l){n[l]&&(s[l]=function(p){return new Promise(function(y,g){i.push([l,p,y,g])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){d(i[0][3],y)}}function u(l){l.value instanceof ie?Promise.resolve(l.value.v).then(c,f):d(i[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function d(l,p){l(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Po(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:ie(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function xo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ge=="function"?Ge(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,u){o=e[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}}function $o(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Io(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function No(e){return e&&e.__esModule?e:{default:e}}function Do(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function ko(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Bo=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return We},__asyncDelegator:Po,__asyncGenerator:Mo,__asyncValues:xo,__await:ie,__awaiter:Ro,__classPrivateFieldGet:Do,__classPrivateFieldSet:ko,__createBinding:Ao,__decorate:_o,__exportStar:Oo,__extends:wo,__generator:Eo,__importDefault:No,__importStar:Io,__makeTemplateObject:$o,__metadata:So,__param:vo,__read:xr,__rest:bo,__spread:To,__spreadArrays:Co,__values:Ge},Symbol.toStringTag,{value:"Module"})),$r=F(Bo);var C={},Lt;function Fo(){if(Lt)return C;Lt=1,Object.defineProperty(C,"__esModule",{value:!0}),C.supportsZeroByteGCM=C.supportsSubtleCrypto=C.supportsSecureRandom=C.supportsWebCrypto=void 0;var e=$r,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return s(a)}return!1}C.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}C.supportsSecureRandom=n;function s(o){return o&&t.every(function(a){return typeof o[a]=="function"})}C.supportsSubtleCrypto=s;function i(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!s(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return C.supportsZeroByteGCM=i,C}var jt;function Lo(){return jt||(jt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=$r;t.__exportStar(Fo(),e)}(Ae)),Ae}var Oe={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ve=function(e,t){return Ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Ve(e,t)};function jo(e,t){Ve(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ke=function(){return Ke=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ke.apply(this,arguments)};function Uo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Ho(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function qo(e,t){return function(r,n){t(r,n,e)}}function zo(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Wo(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function u(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Go(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Vo(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Ko(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ze(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Zo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ir(arguments[t]));return e}function Qo(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function se(e){return this instanceof se?(this.v=e,this):new se(e)}function Xo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(l){n[l]&&(s[l]=function(p){return new Promise(function(y,g){i.push([l,p,y,g])>1||a(l,p)})})}function a(l,p){try{u(n[l](p))}catch(y){d(i[0][3],y)}}function u(l){l.value instanceof se?Promise.resolve(l.value.v).then(c,f):d(i[0][2],l)}function c(l){a("next",l)}function f(l){a("throw",l)}function d(l,p){l(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Yo(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:se(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function Jo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ze=="function"?Ze(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,u){o=e[i](o),s(a,u,o.done,o.value)})}}function s(i,o,a,u){Promise.resolve(u).then(function(c){i({value:c,done:a})},o)}}function ea(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function ta(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ra(e){return e&&e.__esModule?e:{default:e}}function na(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function ia(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const sa=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ke},__asyncDelegator:Yo,__asyncGenerator:Xo,__asyncValues:Jo,__await:se,__awaiter:Wo,__classPrivateFieldGet:na,__classPrivateFieldSet:ia,__createBinding:Vo,__decorate:Ho,__exportStar:Ko,__extends:jo,__generator:Go,__importDefault:ra,__importStar:ta,__makeTemplateObject:ea,__metadata:zo,__param:qo,__read:Ir,__rest:Uo,__spread:Zo,__spreadArrays:Qo,__values:Ze},Symbol.toStringTag,{value:"Module"})),oa=F(sa);var Te={},Ut;function aa(){return Ut||(Ut=1,Object.defineProperty(Te,"__esModule",{value:!0})),Te}var Ce={},Ht;function ca(){return Ht||(Ht=1,Object.defineProperty(Ce,"__esModule",{value:!0})),Ce}var Me={},qt;function ua(){return qt||(qt=1,Object.defineProperty(Me,"__esModule",{value:!0})),Me}var Pe={},zt;function fa(){return zt||(zt=1,Object.defineProperty(Pe,"__esModule",{value:!0})),Pe}var X={},Wt;function la(){if(Wt)return X;Wt=1,Object.defineProperty(X,"__esModule",{value:!0}),X.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var s=n.msCrypto,i=s.getRandomValues,o=s.subtle;return e.map(function(a){return o[a]}).concat(i).every(function(a){return typeof a=="function"})}return!1}return X.isMsWindow=r,X}var Gt;function da(){return Gt||(Gt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=oa;t.__exportStar(aa(),e),t.__exportStar(ca(),e),t.__exportStar(ua(),e),t.__exportStar(fa(),e),t.__exportStar(la(),e)}(Oe)),Oe}var Vt;function ha(){if(Vt)return U;Vt=1,Object.defineProperty(U,"__esModule",{value:!0}),U.Sha256=void 0;var e=Or(),t=Tr(),r=mo(),n=Lo(),s=da(),i=tt,o=rt(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,i.locateWindow)())?this.hash=new t.Sha256(c):(0,s.isMsWindow)((0,i.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,f){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return U.Sha256=a,U}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=$s;t.__exportStar(ha(),e);var r=Or();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=Tr();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(ls);const pa={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Nr={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},v={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},R={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},P={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class h{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const s=h.getVersionPrecision(t),i=h.getVersionPrecision(r);let o=Math.max(s,i),a=0;const u=h.map([t,r],c=>{const f=o-h.getVersionPrecision(c),d=c+new Array(f+1).join(".0");return h.map(d.split("."),l=>new Array(20-l.length).join("0")+l).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(s=0;s<t.length;s+=1)n.push(r(t[s]));return n}static find(t,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,s=t.length;n<s;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let s,i;if(Object.assign)return Object.assign(t,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return pa[t]}static getBrowserTypeByAlias(t){return Nr[t]||""}}const b=/version\/(\d+(\.?_?\d+)+)/i,ya=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=h.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=h.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=h.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=h.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=h.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=h.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=h.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=h.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=h.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=h.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=h.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=h.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=h.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=h.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=h.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=h.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=h.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=h.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=h.getFirstMatch(b,e)||h.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=h.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=h.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=h.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=h.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=h.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=h.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=h.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=h.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=h.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=h.getFirstMatch(b,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=e.search("\\(")!==-1?r:t;return{name:h.getFirstMatch(s,e),version:h.getSecondMatch(s,e)}}}],ga=[{test:[/Roku\/DVP/],describe(e){const t=h.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:R.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=h.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:R.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=h.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=h.getWindowsVersionName(t);return{name:R.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:R.iOS},r=h.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=h.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=h.getMacOSVersionName(t),n={name:R.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=h.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:R.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=h.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=h.getAndroidVersionName(t),n={name:R.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=h.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:R.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=h.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||h.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||h.getFirstMatch(/\bbb(\d+)/i,e);return{name:R.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=h.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:R.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=h.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:R.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:R.Linux}}},{test:[/CrOS/],describe(){return{name:R.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=h.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:R.PlayStation4,version:t}}}],ma=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=h.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:v.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:v.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:v.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:v.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:v.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:v.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:v.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=h.getFirstMatch(/(ipod|iphone)/i,e);return{type:v.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:v.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:v.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:v.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:v.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:v.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:v.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:v.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:v.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:v.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:v.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:v.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:v.tv}}}],wa=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:P.Blink};const r=h.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:P.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:P.Trident},r=h.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:P.Presto},r=h.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:P.Gecko},r=h.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:P.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:P.WebKit},r=h.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Kt{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=h.find(ya,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=h.find(ga,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=h.find(ma,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=h.find(wa,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return h.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const s={};let i=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(s[a]=u,i+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=h.find(a,f=>this.isOS(f));if(u){const f=this.satisfies(r[u]);if(f!==void 0)return f}const c=h.find(a,f=>this.isPlatform(f));if(c){const f=this.satisfies(r[c]);if(f!==void 0)return f}}if(i>0){const a=Object.keys(s),u=h.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(s[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let s=t.toLowerCase();const i=h.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(t){let r=[0],n=t,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(s=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(s=!0,n=t.substr(1)),r.indexOf(h.compareVersions(i,n,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Dr{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Kt(t,r)}static parse(t){return new Kt(t).getResult()}static get BROWSER_MAP(){return Nr}static get ENGINE_MAP(){return P}static get OS_MAP(){return R}static get PLATFORMS_MAP(){return v}}const ec=({serviceId:e,clientVersion:t})=>async()=>{var s,i,o,a,u;const r=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?Dr.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((i=r==null?void 0:r.os)==null?void 0:i.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n},tc=e=>()=>Promise.reject(e),Zt=typeof TextEncoder=="function"?new TextEncoder:null,rc=e=>{if(typeof e=="string"){if(Zt)return Zt.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},ba=(e,t,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=e());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return async u=>((!i||u!=null&&u.forceRefresh)&&(n=await a()),n)},_a=["in-region","cross-region","mobile","standard","legacy"],nc=({defaultsMode:e}={})=>ba(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(va()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${_a.join(", ")}, got ${t}`)}}),va=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Dr.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},ic=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},sc=e=>({region:e.region()});export{Xa as A,Da as B,gi as C,De as D,Fa as E,Ua as F,Pa as G,Va as H,Qa as I,Ta as J,Ca as K,Ma as L,$a as M,di as N,La as O,Ka as P,Za as Q,Oa as R,dr as S,yi as T,wi as U,qa as V,Ba as a,Ha as b,Ja as c,Ye as d,xa as e,Ie as f,ka as g,bn as h,rc as i,ec as j,tc as k,ja as l,ls as m,N as n,Ia as o,Ne as p,Na as q,Ya as r,nc as s,za as t,Wa as u,sc as v,Ga as w,Aa as x,ic as y,Ea as z};
