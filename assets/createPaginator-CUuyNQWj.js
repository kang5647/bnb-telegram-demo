const f=async(t,n,e,...r)=>await n.send(new t(e),...r);function h(t,n,e,r,a){return async function*(s,c,...d){let o=s.startingToken||void 0,l=!0,i;for(;l;){if(c[e]=o,a&&(c[a]=c[a]??s.pageSize),s.client instanceof t)i=await f(n,s.client,c,...d);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield i;const u=o;o=p(i,r),l=!!(o&&(!s.stopOnSameToken||o!==u))}return void 0}}const p=(t,n)=>{let e=t;const r=n.split(".");for(const a of r){if(!e||typeof e!="object")return;e=e[a]}return e};export{h as c};
